<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY HOMES - Find Your Dream Property</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        .property-filter-container {
          background: #fff;
          border-radius: 8px;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
          padding: 20px;
          margin-bottom: 20px;
          position: relative;
          display: none;
        }
      
        .property-filter-container h3 {
          margin-top: 0;
          color: #333;
          font-size: 1.3rem;
          padding-bottom: 10px;
          border-bottom: 1px solid #eee;
        }
      
        .filter-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          gap: 15px;
          margin-bottom: 20px;
        }
      
        .filter-group {
          margin-bottom: 10px;
        }
      
        .filter-group label {
          display: block;
          margin-bottom: 5px;
          font-weight: 500;
          color: #555;
        }
      
        .filter-group input,
        .filter-group select {
          width: 100%;
          padding: 8px 12px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 14px;
        }
      
        .range-inputs {
          display: flex;
          align-items: center;
          gap: 10px;
        }
      
        .range-inputs input {
          flex: 1;
        }
      
        .range-inputs span {
          color: #777;
        }
      
        .filter-actions {
          display: flex;
          gap: 10px;
          justify-content: flex-end;
        }
      
        #openFilter,
        .btn-filter {
          background-color: #4a6fa5;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          transition: background-color 0.3s;
        }
      
        .btn-filter:hover {
          background-color: #3a5a8a;
        }

       #closeFilter,
        .btn-reset {
          background-color: #f5f5f5;
          color: #555;
          border: 1px solid #ddd;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          transition: all 0.3s;
        }
        #closeFilter{
            top:0;
            right: 0;
            color: red;
        }
      
        .btn-reset:hover {
          background-color: #eaeaea;
        }
      
        @media (max-width: 768px) {
          .filter-grid {
            grid-template-columns: 1fr;
          }
        }
        .header{
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: center;
            padding:  20px;
        }
      </style>
      
</head>
<body>
    <header>
        <div class="main">
            <div class="nav-container">
                <div class="logo">
                    <img src="home.png" alt="My Homes Logo">
                    <span class="logo-text">MY HOMES</span>
                </div>
                <ul class="nav-menu">
                    <li><a href="/" class="nav-btn active">HOME</a></li>
                    <li><a href="/about" class="nav-btn">ABOUT</a></li>
                    <li><a href="/for_sale" class="nav-btn">FOR SALE</a></li>
                    <li><a href="/for_rent" class="nav-btn">FOR RENT</a></li>
                    <li><a href="/sell" class="nav-btn">SELL</a></li>
                    <li><a href="/contact_us" class="nav-btn">CONTACT</a></li>
                    <li> <a href="/more" class="nav-btn">MORE</a></li>
                    <li><a href="/login" class="nav-btn login-btn">LOGIN</a></li>
                    <li><a href="/profile" style="display: none;" class="nav-btn profile-btn"><img src="" alt="profile"></a></li>
                </ul>
            </div>
            
            <div class="hero-content">
                <div class="title">
                    <h1>Find Your Dream Home</h1>
                </div>
                <div class="hero-buttons">
                    <a href="/trending_videos" class="nav-btn"> <button type="submit" class="hero-btn primary-btn">
                        <i class="fas fa-play"></i> WATCH VIDEOS
                    </button></a>
                    <a href="/guide" class="nav-btn"> <button type="submit" class="hero-btn primary-btn">
                        <i class="fas fa-book"></i> BASIC GUIDES
                    </button></a>
                </div>
            </div>
        </div>
    </header>
    
    <div class="header">
        <h1>Houses for Sale and Rent</h1>
        <button id="openFilter" onclick="document.querySelector('.property-filter-container').style.display = 'block'"><i class="fas fa-filter" style=" font-size: 20px;"></i></button>

    </div>
    <div class="property-filter-container">
        <h3>Filter Properties</h3>
        <form id="propertyFilterForm">
          <div class="filter-grid">
            <!-- Price Range -->
            <div class="filter-group">
              <label for="priceRange">Price Range</label>
              <div class="range-inputs">
                <input type="number" id="min_price" name="min_price" placeholder="Min price" min="0">
                <span>to</span>
                <input type="number" id="max_price" name="max_price" placeholder="Max price" min="0">
              </div>
            </div>
      
            <!-- Location -->
            <div class="filter-group">
              <label for="city">Location</label>
              <input type="text" id="city" name="city" placeholder="City or neighborhood">
            </div>
      
            <!-- Property Type -->
            <div class="filter-group">
              <label for="property_type">Property Type</label>
              <select id="property_type" name="property_type">
                <option value="">Any Type</option>
                <option value="house">House</option>
                <option value="apartment">Apartment</option>
                <option value="condo">Condo</option>
                <option value="townhouse">Townhouse</option>
                <option value="land">Land</option>
                <option value="commercial">Commercial</option>
              </select>
            </div>
      
            <!-- Bedrooms -->
            <div class="filter-group">
              <label for="bedrooms">Bedrooms</label>
              <select id="bedrooms" name="bedrooms">
                <option value="">Any</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
                <option value="4">4+</option>
                <option value="5">5+</option>
              </select>
            </div>
      
            <!-- Bathrooms -->
            <div class="filter-group">
              <label for="bathrooms">Bathrooms</label>
              <select id="bathrooms" name="bathrooms">
                <option value="">Any</option>
                <option value="1">1+</option>
                <option value="2">2+</option>
                <option value="3">3+</option>
              </select>
            </div>
      
            <!-- Year Built -->
            <div class="filter-group">
              <label for="yearRange">Year Built</label>
              <div class="range-inputs">
                <input type="number" id="min_year" name="min_year" placeholder="Min year" min="1800" max="2025">
                <span>to</span>
                <input type="number" id="max_year" name="max_year" placeholder="Max year" min="1800" max="2025">
              </div>
            </div>
      
            <!-- Filter Type -->
            <div class="filter-group">
              <label for="filterType">Listing Type</label>
              <select id="filterType" name="filterType">
                <option value="">All Listings</option>
                <option value="sale">For Sale</option>
                <option value="rent">For Rent</option>
              </select>
            </div>
          </div>
      
          <div class="filter-actions">
            <button type="submit" class="btn-filter">Apply Filters</button>
            <button type="reset" class="btn-reset">Reset</button>
            <button id="closeFilter" onclick="document.querySelector('.property-filter-container').style.display = 'none'">Close</button>
          </div>
        </form>
      </div>
    
    <div class="container">
        <div class="section">
            <h2>Welcome to Our Housing Platform</h2>
            <p>Find your dream home from our extensive list of verified houses for sale and rent. Our platform provides detailed information and high-quality images to help you make the best decision.</p>
            
            <div class="property-container">
                <!-- Property Card 1 -->
                <div class="property-card">
                    <div class="property-image">
                        <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6" alt="Modern House">
                    </div>
                    <div class="property-details">
                        <h3>Modern Family Home</h3>
                        <div class="property-info">
                            <span><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</span>
                            <span>For Sale</span>
                        </div>
                        <div class="property-price">$350,000</div>
                        <div class="property-features">
                            <span class="feature"><i class="fas fa-bed"></i> 4 Beds</span>
                            <span class="feature"><i class="fas fa-bath"></i> 3 Baths</span>
                            <span class="feature"><i class="fas fa-ruler-combined"></i> 2200 sqft</span>
                        </div>
                        <button class="property-btn">View Details</button>
                    </div>
                </div>
                
                <!-- Property Card 2 -->
                <div class="property-card">
                    <div class="property-image">
                        <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c" alt="Luxury Apartment">
                    </div>
                    <div class="property-details">
                        <h3>Luxury Apartment</h3>
                        <div class="property-info">
                            <span><i class="fas fa-map-marker-alt"></i> Mombasa, Kenya</span>
                            <span>For Rent</span>
                        </div>
                        <div class="property-price">$1,200/mo</div>
                        <div class="property-features">
                            <span class="feature"><i class="fas fa-bed"></i> 3 Beds</span>
                            <span class="feature"><i class="fas fa-bath"></i> 2 Baths</span>
                            <span class="feature"><i class="fas fa-ruler-combined"></i> 1500 sqft</span>
                        </div>
                        <button class="property-btn">View Details</button>
                    </div>
                </div>
                
                <!-- Property Card 3 -->
                <div class="property-card">
                    <div class="property-image">
                        <img src="https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6" alt="Countryside Villa">
                    </div>
                    <div class="property-details">
                        <h3>Countryside Villa</h3>
                        <div class="property-info">
                            <span><i class="fas fa-map-marker-alt"></i> Nakuru, Kenya</span>
                            <span>For Sale</span>
                        </div>
                        <div class="property-price">$275,000</div>
                        <div class="property-features">
                            <span class="feature"><i class="fas fa-bed"></i> 5 Beds</span>
                            <span class="feature"><i class="fas fa-bath"></i> 4 Baths</span>
                            <span class="feature"><i class="fas fa-ruler-combined"></i> 3200 sqft</span>
                        </div>
                        <button class="property-btn">View Details</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="pagination-container"></div>
    
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-column">
                <h3>About Us</h3>
                <p>My Homes is a leading real estate platform helping people find their dream homes across Kenya since 2010.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            
            <div class="footer-column">
                <h3>Quick Links</h3>
                <a href="/">Home</a>
                <a href="/about">About Us</a>
                <a href="/buy">Properties for Sale</a>
                <a href="/rent">Properties for Rent</a>
                <a href="/contact_us">Contact Us</a>
            </div>
            
            <div class="footer-column">
                <h3>Contact Info</h3>
                <p><i class="fas fa-map-marker-alt"></i> 123 Real Estate Ave, Nairobi</p>
                <p><i class="fas fa-phone"></i> +254 700 000 000</p>
                <p><i class="fas fa-envelope"></i> info@myhomes.com</p>
            </div>
            
            <div class="footer-column">
                <h3>Newsletter</h3>
                <p>Subscribe to our newsletter for the latest property updates.</p>
                <form>
                    <input type="email" placeholder="Your Email" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 5px; border: none;">
                    <button type="submit" class="property-btn">Subscribe</button>
                </form>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2025 My Homes. All rights reserved.</p>
        </div>
    </footer>
    <script>
          document.getElementById('propertyFilterForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const filters = {};

    for (let [key, value] of formData.entries()) {
        if (value !== '' && value !== null) {
        filters[key === 'filterType' ? 'sale_type' : key === 'min_year' ? 'min_year_built' : key === 'max_year' ? 'max_year_built' : key] = value;
        }
    }

    
    // Call your fetch function with the filters
    fetchProperties(
      filters.filterType,
      filters.max_price,
      filters.min_price,
      filters.city,
      filters.property_type,
      filters.bedrooms,
      filters.bathrooms,
      filters.min_year,
      filters.max_year
    );
  });

  document.getElementById('propertyFilterForm').addEventListener('reset', function() {
    // Reset all filters
    fetchProperties();
  });

    </script>

    <script src="../static/js/script.js"></script>
    <script src="../static/js/user.js"></script>
</body>
</html>